# 并查集

## 并查集简介

并查集的主要作用是维护一个元素的分组情况。
它通常用于解决一些与集合分组相关的问题，例如判断图中的**连通性**、最小生成树算法（如 Kruskal 算法和 Prim 算法）、求解等价关系等。通过并查集，可以高效地判断两个元素是否属于同一个集合，快速合并集合，以及高效计算集合的数量等

## java 模板

```java
static int[] init(int n){
 int[] parent = new int[n]; // 用于判断是否形成环路
 for (int i = 0; i < n; i++) {
  parent[i] = i;
 }
 return parent;
}
static int find(int[] parent, int i) {
 if (parent[i] != i) {
  // 路径压缩
  parent[i] = find(parent, parent[i]);
 }
 return parent[i];
}
static void union(int[] parent, int x, int y) {
 int xroot = find(parent, x);
 int yroot = find(parent, y);
 // 可以记录一个每个集合的大小，然后按秩合并优化
 parent[yroot] = xroot;
}
```
